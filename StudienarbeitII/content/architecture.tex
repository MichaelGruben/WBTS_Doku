\chapter{Architektur}

\section{Erweiterbarkeit}
Bei der Konzeption wird insbesondere darauf geachtet, dass die Anwendung einfach
erweiterbar ist und den AnsprÃ¼chen vielseitiger Szenarien genÃ¼gt.
So wird beispielsweise auf die UnterstÃ¼tzung von WBTs aus einem bestimmten
Autorenwerkzeug verzichtet. Viel mehr steht das Einbinden von SCORM auf dem
Plan. DarÃ¼ber hinaus berÃ¼cksichtigt das Klassenmodell (siehe Abschnitt
\ref{ref:classModel}) eine Many-to-Many Beziehung zwischen Themen und WBTs. So
ist gewÃ¤hrleistet, dass es allgemeine WBTs geben kann, die mehreren Themen
zugehÃ¶rig sind.

\section{Aufbereiten des Dreyfus-Modells}\label{ref:dreyfusConcept} 
FÃ¼r das Produkt der vorliegenden Studienarbeit wird das in Abschnitt
\ref{ref:dreyfus} erlÃ¤uterte Dreyfus-Modell angepasst. So ergeben sich vier
fachliche RÃ¤nge. Hinzu kommen RÃ¤nge fÃ¼r Tutoren, welche einem Nutzer den fÃ¼nften
Rang nach dem Dreyfus-Modell erreichen lÃ¤sst. Hinzu kommt, dass der fachliche
Rang regelmÃ¤ÃŸig vom Nutzer bestÃ¤tigt werden muss. Nach einem Jahr im selben Rang
wird der Nutzer aufgefordert einen Test zu absolvieren.
Besteht er den Test nicht, oder ignoriert er diesen, so fÃ¤llt der Nutzer
automatisch um einen Rang. Da es keinen Rang unterhalb von "`novice"' gibt,
werden Nutzer automatisch gelÃ¶scht, die den Test fÃ¼r den untersten Rang nicht
bestehen. Diese Vorgehensweise wird so umgesetzt, da davon ausgegangen werden
kann, dass ein aktiver Nutzer innerhalb eines Jahres den nÃ¤chst hÃ¶heren Rang
erreicht. Weiterhin werden so inaktive und nicht interessierte Nutzer
automatisch entfernt, was in einer regen Gemeinschaft resultiert. Dem Problem
von Accounts, hinter dem kein aktiver Nutzer\footnote{sogenannten Zombies} mehr
steht, wird somit vorgebeugt.

\subsection{Fachlicher Rang}\label{ref:rankTopic}
Mit dem Durcharbeiten von WBTs kann ein Nutzer im fachlichen Rang aufsteigen.
Der Hintergrund ist, dass er mit korrekten Antworten im PrÃ¼fungsteil der WBTs
seine fachliche Kompetenz unter Beweis stellt. DemgegenÃ¼ber werden bei falschen
Antworten im Quiz keine negativen Punkte angerechtnet. Je nachdem, wie gut ein
Test ausfÃ¤llt, erhÃ¤lt er eine bestimmte Anzahl an Punkten. AbhÃ¤ngig vom Grad des
aktuellen fachlichen Rangs wird auch die notwendige Punktzahl fÃ¼r den nÃ¤chsten
Rang erhÃ¶ht. Der Aufbau folgt also analog einer Exponentialfunktion. Wie in
Abbildung \ref{ref:vertPunkt} zu sehen ist, benÃ¶tigt man im Vergleich mit den
didaktischen RÃ¤ngen im fachlichen Level mehr Punkte fÃ¼r den nÃ¤chsten Rang. Im
Gegensatz dazu wird hier maximal der Experten-Rang erreicht. In der Abbildung
ist der Rang des Experten nicht zu sehen, da dieser das Erreichen der
notwendigen kompletten Punktzahl symbolisiert.

SelbstverstÃ¤ndlich kÃ¶nnen weitere WBTs durchgearbeitet werden, diese bessern
jedoch nicht das Punktekonto fÃ¼r den fachlichen Rang auf. Dem Anwender ist
freigestellt, ob er sich nun, wo er Experte in einem Fachgebiet ist, einem
anderen Wissensgebiet widmet, um dort als Neuling von Vorn anzufangen.

\subsection{RÃ¤nge fÃ¼r Tutoren}\label{ref:rankTeach}
\begin{k}
Sternverlust nach einem Quartal ohne Unterweisung -> ansonsten kÃ¶nnte man sich
ja auf seinen 5 Sternen ausruhen
\end{k}
Als Tutor wird man von den Lernenden beurteilt, die man in einem gewissen
Fachgebiet unterstÃ¼tzt hat. Im Gegensatz zu den fachlichen RÃ¤ngen sind die
didaktischen RÃ¤nge vom Fach unabhÃ¤ngig. Auch bleiben sie Ã¼ber alle fachlichen
RÃ¤nge hinweg erhalten. Ein weiterer Unterschied ist, dass man als Tutor nicht
Punkte, sondern Sterne sammelt. Jede gute Bewertung (daumen rauf) gibt einen
Schritt in Richtung weiteren Stern. Eine schlechte Bewertung (daumen runter)
stellt dazu einen direkten Gegensatz dar. Beide Bewertungsrichtungen verhalten
sich ausgeglichen und es kristallisieren sich Tutoren heraus, die fachliche
Inhalte fÃ¼r jedermann verstÃ¤ndlich zu erklÃ¤ren wissen. So ist auch
gewÃ¤hrleistet, dass sich meisterliche Tutoren nicht auf ihren vier Sternen
"`ausruhen"'. 

Meisterliche Tutoren verfÃ¼gen auch Ã¼ber das Privileg eigene WBTs in die
Plattform einbringen zu kÃ¶nnen. Den niederen RÃ¤ngen ist dies verwehrt, da diese
unter UmstÃ¤nden Sachverhalte nicht allgemeinverstÃ¤ndlich zu erlÃ¤utern wissen.
Auch sind meisterliche Tutoren dazu privilegiert sÃ¤mtliche fachliche RÃ¤nge
unterrichten zu kÃ¶nnen, wÃ¤hrend fÃ¼r gewÃ¶hnlich Lernende nur von Tutoren
unterwiesen werden, die maximal zwei fachliche RÃ¤nge Ã¼ber ihnen stehen.

GegenÃ¼ber den fachlichen RÃ¤ngen ist in Abbildung \ref{ref:vertPunkt} zu sehen,
dass fÃ¼r den nÃ¤chsten Rang bzw. Stern vergleichsweise weniger Punkte zu
erreichen sind. DemgegenÃ¼ber lÃ¤sst sich nur als Tutor der Rang des Meisters, der
vier Sternen entspricht, erreichen. Dieser Rang ist in der Abbildung nicht zu
sehen, da er analog zum fachlichen Rang den Erhalt aller mÃ¶glichen Punkte
symbolisiert.
\begin{figure}[H] \includegraphics[width=1\textwidth]{verteilungDerPunkte.png}
\caption{Verteilung der Punkte}\label{ref:vertPunkt}
\end{figure}
Ein Meister hat durch das Erhalten der hÃ¶chsten Wertung fÃ¼r die didaktische
FÃ¤higkeit bereits bewiesen, dass er SpaÃŸ an der Vermittlung von Wissen hat.
Demnach bedarf er keiner weiteren Motivation eines hÃ¶heren Ranges.
Vielmehr mÃ¶chte er keine negativen Bewertungen seiner Lernenden erhalten und
bemÃ¼ht sich der weiteren hochwertigen QualitÃ¤t seiner Lerneinheiten.

\section{Rollen fÃ¼r Anwender}
Passend zum zuvor beschriebenen Konzept werden drei Rollen fÃ¼r Anwender
definiert. Dabei ist das Innehaben mehrerer Rollen zur gleichen Zeit ein Teil
des Modells. Zusammenfassend sind die Rechte und Pflichten eines Nutzers in den
verschieden Rollen in Tabelle \ref{tab:privilegesRoles} aufgefÃ¼hrt. Das dort
aufgefÃ¼hrte Forum ist nicht Teil der ersten produktiven Version (siehe
Abschnitt \ref{ref:weitereIdeen})

\subsection{Administrator}
Der Administrator ist der Verwalter der Plattform und damit fÃ¼r den
reibungslosen Ablauf seitens der Nutzer verantwortlich. Dazu kontrolliert er den
Zusammenhalt des Systems und greift bei inkonsistenzen oder Fehlern ein. Auch
bildet er die Schnittstelle zur Community, die sich in der Weiterentwicklung von
Masterly Mate engagiert.

\subsection{Lernender}
Der Lernende bildet die Hauptzielgruppe des Systems. Er soll WBTs finden, diese
durcharbeiten kÃ¶nnen und sich an Tutoren wenden, falls er auf ein Problem oder
Unklarheiten stÃ¶ÃŸt. Dazu bietet Masterly Mate ihm das auffinden eines an sein
Fachwissen angepasstes Training. Weiterhin kann er Tutoren kontaktieren, die in
seinem Umkreis wohnen und passend zu seinem Rang Inhalte zu erlÃ¤utern verstehen.
Die Lokation wird anhand der Postleitzahl festgemacht.

Ein Lernender kann in seinem fachlichen Level bis zum Experten aufsteigen.
NÃ¤here ErlÃ¤uterungen zu den fachlichen RÃ¤ngen wurden in Abschnitt
\ref{ref:rankTopic} aufgefÃ¼hrt.

\subsection{Tutor}
Ein Lernender kann ab dem zweiten fachlichen Rang des Dreyfus-Modells (siehe
\ref{ref:dreyfus}) in seinem Profil die Einstellung "`Tutor"' anwÃ¤hlen. Damit
erscheint er unter den Suchergebnissen fÃ¼r Lernende, die einen Tutor suchen. Als
Tutor wird man von Lernenden gefunden, die UnterstÃ¼tzung in einem Fachgebiet
suchen.

\section{Dokumentation der API}
\begin {k}
mit "`rake doc:app"' lÃ¤sst sich die Dokumentation erstellen

VerfÃ¼gbar machen mit Link auf "`doc/app/index.html"'

Uebernimmt Julian?
\end{k}

\section{Automatisch generierte Filterung von Ergebnissen}
\begin{k}
Die Suche von WBTs wird über reine SQL-Abfragen realisiert. 
Dies bedeutet, dass bei einem Aufruf der WBT-Liste, die Daten des betreffenden Users ausgelesen werden. 
Entsprechend des Levels eines Users im betreffenden Themengebiet werden die Dafür 
vorgesehenen WBTs, welche er noch nicht absolviert hat angezeigt. 
Alternativ können alle WBTs angezeigt werden, wobei sie nach Themen gefiltert
werden. 
Bei der Suche wird im Profil des Users nach den dort hinterlegten Themen
gefragt. Im Standardfall werden die Themen die dort aufgelistet sind für die
Suche verwendet. So erhält ein Benutzer mit dem Thema ``Kulturgeschichte des
Buntbarsches und seiner besonderen Bedeutung in der Deutschen Küche'' in
diesem Falle nur WBTs aus diesem Thema. Da jedoch die wenigsten Benutzer bereits
zu beginn ein Thema haben werden, ist es auch möglich alle Themen mit ihren WBTs
anzuzeigen. Der Benutzer kann dann frei wählen, in welchem Thema er sich
weiterbilden möchte.
Durch diese vorgehensweise bei der Suche ist die Verwendung von Suchfeldern und
aufwändigen Suchalgorithmen nicht notwendig. Da SQL ohnehin für die Abfrage von
Daten geschaffen wurde ist diese Vorgehensweise außerdem Performanter als die
meisten Suchalgorithmen, welche die Daten ohnehin erst über SQL beschaffen
müssten.
\end{k}

\section{Themen}
\begin{k}
Die Themen (oder Topics/Themengebiete) grenzen die WBTs voneinander ab und sind neben den Leveln 
ein Suchkriterium. Jedes WBT ist Teil mindestens eines Themengebietes. Außerdem
sind die Ränge an die Themen gebunden. Der Benutzer kann WBTs in jedem
Themengebiet absolvieren und im Rang aufsteigen. Dabei ist zu beachten, 
dass ein Benutzer einen bestimmten Rang nur in einem Themengebiet haben kann.
Das bedeutet, dass er zwar in einem Gebiet den Status eines Expertise haben kann, in einem ganz anderen jedoch ein absoluter 
Newbie ist. Ist ein WBTs zwei (oder mehr) Themen zugeordnet, so erhält der Benutzer bei Abschluss die 
Punkte für beide Themengebiete.
Themen könen Unterthemen haben, daher kann ein Benutzer innerhalb eines Überthemas unterschiedliche Ränge haben. 
So kann z.B. ein Benutzer im Thema Informatik ein Expertise sein und zugleich in den 
Unterthemen Datenstrukturen und Algorithmen Expierienced bzw. Newbie sein.
Die Beziehung von Benutzer zu Themengebiet ist m:n, ebenso ist die Beziehung zwischen Thema und WBT m:n. 
Die Beziehung von Themen zu ihren Unterthemen ist 1:n.
Das hier Beschriebene ist der Stand der Alpha-Version. 
Nicht verwendet wurde die Möglichkeit, Ränge nur in in einem Thema ohne
Überthema zu besitzen zu können und damit Unterthemen hierfür zu sperren. Dies
wurde außer acht gelassen, da es ein höherer Entwicklungsaufwand wäre. Obendrein
sind wir zu der Ansicht gekommen, dass dies nicht dazu führt den Fortschritt
eines Benutzers besser bewerten zu können. So wäre er möglicherweise durch ein
Einziges Unterthema zum Expertise in einem Überthema geworden ohne jedoch viele
andere Teilaspekte zu beherrschen. Er wäre damit zwar in dem kleinen Bereich
innerhalb des großen Themas sehr bewandert. Ein breites Wissen, welches seinen
Rang in dem großen Thema rechtfertigen würde hat er jedoch nicht.
Eine weitere Möglichkeit, die außer acht gelassen wurde ist das kaskadieren der
Punkte, welche in einem Unterthema erworben wurden. Dies ist zwar eine recht
gute Näherung an die Realtität allerdings kann auch hier sehr leicht der Fall
auftreten, welcher oben bereits beschrieben wurde. 
Eine mögliche Änderung für die Zukunft wäre es jedoch, dass erreichte Punkte zu
einem gewissen Teil dem Überthema gutgeschrieben werden. Man könnte z.B.
die, in einem Thema enthaltenen WBTs in relation zu allen WBTs innerhalb eines
Überthemas setzen und daraus einen Satz errechnen wie viel es für das große
Ganze bringt. So würde z.B. ein WBT mit sehr wenigen und/oder sehr leichten WBTs
nur zehn Prozent seiner Punkte dem Überthema gutschreiben. 
Um Missverständnissen vorzubeugen sei hier gesagt, das mit ``übergeben'' oder
``gutschreiben'' nicht gemeint ist, dass Punkt vom Unterthema abgezogen
und dem Benutzer im Überthema gutgeschrieben werden, sondern das diese dem
Benutzer sozusagen zusätzlich zur Verfügung gestellt werden. Das abziehen von
Punkten zu gunsten eines Überthemas wäre ein weiterer Punkt, welcher in der
Zukunft zu Diskutieren wäre.
Ein weiterer Punkt der beim Entwurf von Masterly Mate aufgeworfen wurde, ist die
Frage nach der Löschung von Überthemen. Aufgrund von Zeitmangel in der ersten
Version wurde die Löschung so geregelt, dass bei einer solchen, die Unterthemen
und WBTs, des zu löschenden Themas in das übergeordnete Thema verschoben werden.
Dies hat den Grund, dass bei einer solchen Aktion lediglich die Verweise auf das
Überthema geändert werden müssen und dies ohne unnötig großen Aufwand möglich
ist. Die weiter oben aufgeworfene Frage nach den WBTs im Root-Thema wurde in
dieser Version nicht gelöst (Es ist daher möglich im Root-Thema Punkte zu
sammeln und zum ``Master of the Universe'' aufzusteigen). 
Die Alternative nach welcher eine Löschung eines Überthemas die Löschung aller
darin enthaltenen Inhalte bedeuten wurde, wurde komplett verworfen, da es
Probleme mit den Berechtigungen der Benutzer geben würde, wenn z.B. ein Tutor
ein Thema löschen würde in dem WBTs liegen, welche er nicht erstellt hat. 
In der Zukunft muss das Problem mit den WBTs im Root-Thema angegangen werden. Es
wäre sinnvoll, WBTs welche im Root-Thema liegen für die Benutzung zu sperren.
\end{k}